<%- include("./partials/head", { pageTitle }) %>

<div class="min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-black relative overflow-hidden">

  <%- include("./partials/navbar", { isLoggedIn, currentPage }) %>

  <div class="max-w-7xl mx-auto px-4 py-16">

    <!-- PAGE HEADER -->
    <div class="flex flex-col md:flex-row md:justify-between md:items-center mb-14">
      <div>
        <h1 class="text-4xl md:text-5xl font-extrabold bg-gradient-to-r 
                   from-indigo-400 via-purple-500 to-pink-500 
                   bg-clip-text text-transparent">
          Your Submissions
        </h1>
        <p class="text-slate-400 mt-3 text-lg">
          All your applied work in one place ✨
        </p>
      </div>
    </div>

    <!-- EMPTY STATE -->
    <% if (!work || work.length === 0) { %>
      <div class="bg-white/5 backdrop-blur-xl border border-white/10 
                  rounded-2xl p-14 text-center shadow-2xl">
        <p class="text-slate-300 text-lg">
          You haven’t submitted any work yet.
        </p>
      </div>
    <% } %>

    <!-- WORK GRID -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

      <% work && work.forEach(item => { %>

        <div class="group relative bg-white/10 backdrop-blur-xl 
                    border border-white/10 rounded-2xl p-6 shadow-xl
                    hover:shadow-indigo-500/30 hover:-translate-y-1 
                    transition-all duration-300 flex flex-col">

          <!-- Neon Border -->
          <div class="absolute inset-0 rounded-2xl 
                      bg-gradient-to-r from-indigo-500/20 via-purple-500/20 to-pink-500/20 
                      opacity-0 group-hover:opacity-100 transition"></div>

          <div class="relative flex flex-col h-full">

            <!-- TITLE -->
            <h2 class="text-2xl font-bold text-white mb-4">
              Project Submission
            </h2>

            <!-- LINKS -->
            <div class="space-y-3 text-sm mb-6">

              <!-- GitHub -->
              <% if (item.sourceCode) { %>
                <div class="flex justify-between items-center">
                  <span class="text-slate-400">Source Code</span>
                  <a href="<%= item.sourceCode %>" target="_blank"
                     class="text-indigo-400 hover:underline">
                    GitHub Repo
                  </a>
                </div>
              <% } %>

              <!-- Documentation -->
              <% if (item.documentation && item.documentation.length > 0) { %>
                <div class="flex justify-between items-center">
                  <span class="text-slate-400">Documentation</span>
                  <a href="/uploads/work-done/<%= item.documentation[0].filename %>"
                     target="_blank"
                     class="text-indigo-400 hover:underline">
                    View PDF
                  </a>
                </div>
              <% } %>

              <!-- PPT -->
              <% if (item.ppt && item.ppt.length > 0) { %>
                <div class="flex justify-between items-center">
                  <span class="text-slate-400">Presentation</span>
                  <a href="/uploads/work-done/<%= item.ppt[0].filename %>"
                     target="_blank"
                     class="text-indigo-400 hover:underline">
                    View PPT
                  </a>
                </div>
              <% } %>

              <!-- Demo Video -->
              <% if (item.demoVideo && item.demoVideo.length > 0) { %>
                <div class="flex justify-between items-center">
                  <span class="text-slate-400">Demo Video</span>
                  <a href="/uploads/work-done/<%= item.demoVideo[0].filename %>"
                     target="_blank"
                     class="text-indigo-400 hover:underline">
                    Watch
                  </a>
                </div>
              <% } %>

            </div>

            <!-- FOOTER -->
            <% if (item.appliedAt) { %>
              <div class="mt-auto pt-4 border-t border-white/10 
                          text-xs text-slate-500">
                Submitted on
                <%= new Date(item.appliedAt).toLocaleDateString() %>
              </div>
            <% } %>

          </div>
        </div>

      <% }) %>

    </div>
  </div>

  <%- include("partials/footer") %>

</div>
